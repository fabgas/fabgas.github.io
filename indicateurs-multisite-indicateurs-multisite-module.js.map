{"version":3,"sources":["webpack:///./src/app/indicateurs-multisite/components/detail-indicateur/detail-indicateur.component.html","webpack:///./src/app/indicateurs-multisite/components/detail-indicateur/detail-indicateur.component.scss","webpack:///./src/app/indicateurs-multisite/components/detail-indicateur/detail-indicateur.component.ts","webpack:///./src/app/indicateurs-multisite/components/indicateur-card/indicateur-card.component.html","webpack:///./src/app/indicateurs-multisite/components/indicateur-card/indicateur-card.component.scss","webpack:///./src/app/indicateurs-multisite/components/indicateur-card/indicateur-card.component.ts","webpack:///./src/app/indicateurs-multisite/indicateurs-multisite.module.ts","webpack:///./src/app/indicateurs-multisite/indicateurs-multisite.page.html","webpack:///./src/app/indicateurs-multisite/indicateurs-multisite.page.scss","webpack:///./src/app/indicateurs-multisite/indicateurs-multisite.page.ts","webpack:///./src/app/indicateurs-multisite/services/indicateur-detail.service.ts","webpack:///./src/app/indicateurs-multisite/services/indicateur-multisite.service.ts"],"names":[],"mappings":"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","file":"indicateurs-multisite-indicateurs-multisite-module.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar *ngIf=\\\"indicateurs && indicateurs.length>0\\\" color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n      <ion-title >{{indicateurs[0].llIndicateur}}</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n\\n  <ion-content padding>\\n<ion-list *ngIf=\\\"indicateurs && indicateurs.length>0\\\">\\n    <ion-grid>\\n        <div *ngFor=\\\"let indicateur of indicateurs\\\" class=\\\"divlist\\\">\\n           \\n        <ion-row  class=\\\"lineIndicateur\\\">\\n            <ion-col size=\\\"6\\\">\\n              {{indicateur.llProjet}}\\n            </ion-col>\\n            <ion-col class=\\\"data\\\">\\n                {{indicateur.valeur| number:'1.1-1'}}\\n            </ion-col>\\n            <ion-col class=\\\"unite\\\">\\n                {{indicateur.unite}}\\n            </ion-col>\\n          </ion-row>\\n          <hr>\\n        </div>\\n    </ion-grid>\\n</ion-list>\\n  </ion-content>\\n\"","module.exports = \".lineIndicateur {\\n  font-size: 0.8em;\\n  text-align: left; }\\n\\n.data {\\n  font-size: 1em;\\n  text-align: right; }\\n\\n.unite {\\n  font-size: 1em;\\n  text-align: left; }\\n\\n.headerIndicateurs {\\n  color: grey;\\n  font-size: 0.8em; }\\n\\n.divlist {\\n  padding: 0px;\\n  margin: 0px; }\\n\\nhr {\\n  display: block;\\n  margin-top: 0.0em;\\n  margin-bottom: 0.0em;\\n  margin-left: auto;\\n  margin-right: auto;\\n  background-color: grey; }\\n\\n.card-content-ios {\\n  padding: 5px; }\\n\\n.card-content-md {\\n  padding: 5px; }\\n\\n.sc-ion-card-md-h {\\n  margin: 0px; }\\n\\n.sc-ion-card-ios-h {\\n  margin: 0px; }\\n\\n.cellheader {\\n  font-size: 1.5em;\\n  color: black;\\n  text-align: center; }\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IndicateurMultisite} from './../../model/indicateur-multisite';\nimport { Subscription }   from 'rxjs';\nimport { IndicateurDetailService} from '../../services/indicateur-detail.service';\n@Component({\n  selector: 'app-detail-indicateur',\n  templateUrl: './detail-indicateur.component.html',\n  styleUrls: ['./detail-indicateur.component.scss']\n})\nexport class DetailIndicateurComponent implements OnInit, OnDestroy  {\n  subscription: Subscription;\n   indicateurs: IndicateurMultisite[];\n  constructor(private indicateurDetailService:IndicateurDetailService) {\n    this.subscription = this.indicateurDetailService.indicateurs$.subscribe(\n      indics => {\n        console.log(\"ee\");\n        this.indicateurs = indics;\n    });\n   }\n  \n  ngOnInit() {\n    \n   }\n   ngOnDestroy() {\n    // prevent memory leak when component destroyed\n    this.subscription.unsubscribe();\n  }\n}\n","module.exports = \"<ion-card-content>\\n    <div *ngIf=\\\"indicateurs && indicateurs.length==1\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"8\\\">\\n          <div class=\\\"item\\\">\\n            <p class=\\\"cellheader\\\">{{indicateurs[0].llIndicateur}}</p>\\n          </div>\\n        </ion-col>\\n        <ion-col>\\n          <div *ngIf=\\\"indicateurs && indicateurs.length==1\\\" class=\\\"item border-left\\\">\\n            <p [ngClass]=\\\"{'cell':true}\\\">{{indicateurs[0].valeur}}</p>\\n            <p class=\\\"cell\\\">({{indicateurs[0].unite}}) </p>\\n          </div>\\n       </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n  <div *ngIf=\\\"indicateurs && indicateurs.length>=1\\\">\\n           <div class=\\\"item\\\" (click)='onClick()'>\\n              <p class=\\\"cellheader\\\">{{indicateurs[0].llIndicateur}}</p>\\n            </div>\\n    </div>\\n </ion-card-content>\"","module.exports = \".border-left {\\n  border-left: solid 1px #0b85e2;\\n  padding-right: 5px; }\\n\\n.cellheader {\\n  font-size: 1.5em;\\n  color: black;\\n  text-align: left; }\\n\\n.cell {\\n  font-size: 1em;\\n  color: black;\\n  text-align: right;\\n  font-weight: bold; }\\n\\n.lineIndicateur {\\n  font-size: 0.8em;\\n  text-align: left; }\\n\\n.data {\\n  font-size: 1em;\\n  text-align: right; }\\n\\n.unite {\\n  font-size: 1em;\\n  text-align: left; }\\n\\n.headerIndicateurs {\\n  color: grey;\\n  font-size: 0.8em; }\\n\\n.divlist {\\n  padding: 0px;\\n  margin: 0px; }\\n\\nhr {\\n  display: block;\\n  margin-top: 0.0em;\\n  margin-bottom: 0.0em;\\n  margin-left: auto;\\n  margin-right: auto;\\n  background-color: grey; }\\n\\n.card-content-ios {\\n  padding: 5px; }\\n\\n.card-content-md {\\n  padding: 5px; }\\n\\n.sc-ion-card-md-h {\\n  margin: 0px; }\\n\\n.sc-ion-card-ios-h {\\n  margin: 0px; }\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { IndicateurMultisite} from './../../model/indicateur-multisite';\nimport { Router } from '@angular/router';\nimport { IndicateurDetailService} from '../../services/indicateur-detail.service';\n@Component({\n  selector: 'app-indicateur-card',\n  templateUrl: './indicateur-card.component.html',\n  styleUrls: ['./indicateur-card.component.scss']\n})\nexport class IndicateurCardComponent implements OnInit {\n\n @Input('indicateurs') indicateurs: IndicateurMultisite[];\n\n  constructor(private router: Router, private indicateurDetailService:IndicateurDetailService) { }\n\n  ngOnInit() {\n    \n  }\n\n  onClick() {\n    this.indicateurDetailService.indicateurs(this.indicateurs);\n    this.router.navigate(['indicateurs-multisite/detailIndicateur']);\n   \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IndicateursMultisitePage } from './indicateurs-multisite.page';\nimport { IndicateurCardComponent } from './components/indicateur-card/indicateur-card.component';\nimport { DetailIndicateurComponent } from './components/detail-indicateur/detail-indicateur.component';\nimport { IndicateurDetailService} from './services/indicateur-detail.service';\nconst routes: Routes = [\n  {\n    path: '',\n    component: IndicateursMultisitePage\n  }\n  ,\n  { path: 'detailIndicateur', component: DetailIndicateurComponent }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  providers:[IndicateurDetailService],\n  declarations: [IndicateursMultisitePage, IndicateurCardComponent, DetailIndicateurComponent]\n})\nexport class IndicateursMultisitePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\"  >\\n          <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n    <ion-title>indicateurs-multisite</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <ion-slides #slides [options]=\\\"slideOpts\\\" (ionSlideDidChange)=\\\"slideChanged()\\\" (ionSlideNextStart)='nextSlide()'\\n    (ionSlidePrevStart)='prevSlide()'>\\n    <ion-slide *ngFor='let date of dates'>\\n         <ion-card>\\n            <div class='date'>\\n                {{date|date:'shortDate'}}\\n            </div>\\n         </ion-card>\\n        <div *ngIf=\\\"indicateurs\\\">\\n        <ion-card *ngFor=\\\"let indic of indics\\\"  class=\\\"processcard\\\">\\n            <app-indicateur-card [indicateurs]=\\\"indicateurs[indic.ucIndicateur]\\\"></app-indicateur-card>\\n        </ion-card>\\n        </div>\\n    </ion-slide>\\n    \\n  </ion-slides>\\n</ion-content>\\n\"","module.exports = \".processcard {\\n  background-color: white; }\\n\\n.swiper-slide {\\n  display: block; }\\n\\n.date {\\n  font-size: 2em;\\n  background-color: #90CAF9;\\n  color: black; }\\n\"","import { Component, OnInit, ViewChild} from '@angular/core';\nimport { IndicateurMultisiteService} from './services/indicateur-multisite.service';\nimport { IndicateurMultisite} from './model/indicateur-multisite';\nimport { Slides } from '@ionic/angular';\nimport * as moment from 'moment';\nimport * as _ from 'lodash';\n@Component({\n  selector: 'app-indicateurs-multisite',\n  templateUrl: './indicateurs-multisite.page.html',\n  styleUrls: ['./indicateurs-multisite.page.scss'],\n})\nexport class IndicateursMultisitePage implements OnInit {\n  dates=[];\n  projets:string[];\n  indicateurs:IndicateurMultisite[][]; // [ucIndicateur][un par projet]\n  indics:IndicateurMultisite[]; // [ucIndicateur][un par projet]\n  show:boolean[];\n  @ViewChild('slides') slides: Slides;\n  constructor(private indicateurMultisiteService:IndicateurMultisiteService) {\n    this.dates.push(moment().startOf('day').subtract(4, \"days\"));\n    this.dates.push( moment().startOf('day').subtract(3, \"days\"));\n    this.dates.push(moment().startOf('day').subtract(2, \"days\"));\n    this.dates.push( moment().startOf('day').subtract(1, \"days\"));\n    this.dates.push(moment().startOf('day'));\n    this.dates.push( moment().startOf('day').add(1, \"days\"));\n  \n    this.projets=[];\n    this.projets[0]='SQF';\n    this.projets[1]='AUL';\n  }\n  // on veut transforme une liste à plat en un double tableau\n  ngOnInit() {\n      this.indicateurMultisiteService.getIndicateurMultisite(this.projets,this.dates[3]).subscribe(\n        res => { \n      \n          this.indicateurs=[];\n         \n           _.forEach(res, ind => {\n                  let ucProjet = ind.ucProjet;\n                  let ucIndicateur = ind.ucIndicateur;\n                  if (! this.indicateurs[ucIndicateur]) {\n                    this.indicateurs[ucIndicateur]=[];\n                  }\n                  this.indicateurs[ucIndicateur].push(ind);\n               });\n                this.indics=[];\n               this.indics= _.uniqBy(res,ind => ind.ucIndicateur);\n               // initialisation à false des vues\n               this.show=[];\n               _.forEach(this.indics, ind=>[this.show[ind.ucIndicateur]]);\n               this.slides.slideTo(4);\n              }\n\n           \n      );\n  }\n\n \n  swipeEvent($event) {\n    console.log($event)\n   }\n   slideChanged() {\n    console.log('slideChanged');\n   }\n   nextSlide() {\n    console.log('nextSlide');\n   }\n   prevSlide() {\n    console.log('prevSlide');\n   }\n}\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject }    from 'rxjs';\r\nimport { IndicateurMultisite} from '../model/indicateur-multisite';\r\n@Injectable()\r\nexport class IndicateurDetailService {\r\n \r\n  // Observable string sources\r\n  private indicateurDetailSource = new BehaviorSubject<IndicateurMultisite[]>([]);\r\n  // Observable string streams\r\n  indicateurs$ = this.indicateurDetailSource.asObservable();\r\n \r\n  // Service message commands\r\n  indicateurs(indicateurs: IndicateurMultisite[]) {\r\n      console.log(\"event\"+indicateurs);\r\n    this.indicateurDetailSource.next(indicateurs);\r\n  }\r\n \r\n}","import { Injectable } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { IndicateurMultisite} from '../model/indicateur-multisite';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map,tap } from 'rxjs/operators';\r\n\r\n\r\n/**\r\n * La structure des données renvoyées est la suivantes :\r\n *  - detail du processus (global) : heure réelles, volumes objet principal, productivité réelle  \r\n *                                   capacité de prod,volumes planifiés , productivité cible\r\n *                                      -> Resultats de type T ou P ?\r\n * - Détail par opérateur et par processus : heures , volumes objets, prod objet principal\r\n *                                     -> saisie conso réelle.\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class IndicateurMultisiteService {\r\n \r\n  constructor(private http: HttpClient) {\r\n }\r\n\r\n  \r\n  getIndicateurMultisite(projets:string[],date:any):Observable<IndicateurMultisite[]>{\r\n   \r\n   return this.http.get<IndicateurMultisite[]>(\"/assets/datas/indicateurs.json\")\r\n   .pipe(\r\n     tap(res => console.log(res) ),\r\n     tap(res => console.log(projets) ),\r\n     map(res =>  _.filter(res,ind => {return projets.findIndex(proj=> ind.ucProjet===proj)>-1})));\r\n    ;\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}